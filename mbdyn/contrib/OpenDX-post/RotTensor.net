//
// time: Wed Dec  4 09:40:43 2002
//
// version: 3.1.2 (format), 4.1.3 (DX)
//
//
// Begin MDF
// MODULE RotTensor
// CATEGORY Macros
// DESCRIPTION RotTensor
// INPUT input_1; value list or field or string or string list; (no default);  
// OUTPUT output_1; value or value list or field;  
// End MDF
// page assignment: Sheet1	order=2, windowed=0, showing=1
// workspace: width = 734, height = 777
// layout: snap = 0, width = 50, height = 50, align = NN
//
macro RotTensor(
 input_1
) -> (
 output_1
) {
    // 
    // node Input[1]: x = 220, y = 8, inputs = 0, label = Input
    // page group: Sheet1
    // parameter: position = 1, name = 'input_1', value = '(no default)', descriptive = 1, description = ' ', required = 0, visible = 1
    //
RotTensor_Input_1_out_1 = input_1;
    // 
    // node Compute[1]: x = 83, y = 81, inputs = 2, label = Compute
    // input[1]: defaulting = 0, visible = 0, type = 32, value = "sqrt($0.0^2+$0.1^2+$0.2^2)"
    // page group: Sheet1
    // expression: value = sqrt(a.0^2+a.1^2+a.2^2)
    // name[2]: value = a
    //
RotTensor_Compute_1_out_1 = 
    Compute(
    "sqrt($0.0^2+$0.1^2+$0.2^2)",
    RotTensor_Input_1_out_1
    ) [instance: 1, cache: 1];
    // 
    // node Compute[2]: x = 209, y = 82, inputs = 2, label = Compute
    // input[1]: defaulting = 0, visible = 0, type = 32, value = "[0, -$0.2, $0.1,$0.2,0,-$0.0,-$0.1,$0.0,0]"
    // page group: Sheet1
    // expression: value = [0, -a.2, a.1,a.2,0,-a.0,-a.1,a.0,0]
    // name[2]: value = a
    //
RotTensor_Compute_2_out_1 = 
    Compute(
    "[0, -$0.2, $0.1,$0.2,0,-$0.0,-$0.1,$0.0,0]",
    RotTensor_Input_1_out_1
    ) [instance: 2, cache: 1];
    // 
    // node Compute[3]: x = 481, y = 173, inputs = 3, label = Compute
    // input[1]: defaulting = 0, visible = 0, type = 32, value = "[$0.6*$1.0 + $0.7*$1.3 + $0.8*$1.6,  $0.6*$1.1 + $0.7*$1.4 + $0.8*$1.7,  $0.6*$1.2 + $0.7*$1.5 + $0.8*$1.8]"
    // page group: Sheet1
    // expression: value = [a.6*b.0 + a.7*b.3 + a.8*b.6,  a.6*b.1 + a.7*b.4 + a.8*b.7,  a.6*b.2 + a.7*b.5 + a.8*b.8]
    // name[2]: value = a
    // name[3]: value = b
    //
RotTensor_Compute_3_out_1 = 
    Compute(
    "[$0.6*$1.0 + $0.7*$1.3 + $0.8*$1.6,  $0.6*$1.1 + $0.7*$1.4 + $0.8*$1.7,  $0.6*$1.2 + $0.7*$1.5 + $0.8*$1.8]",
    RotTensor_Compute_2_out_1,
    RotTensor_Compute_2_out_1
    ) [instance: 3, cache: 1];
    // 
    // node Compute[4]: x = 343, y = 173, inputs = 3, label = Compute
    // input[1]: defaulting = 0, visible = 0, type = 32, value = "[$0.0*$1.0 + $0.1*$1.3 + $0.2*$1.6,  $0.0*$1.1 + $0.1*$1.4 + $0.2*$1.7,  $0.0*$1.2 + $0.1*$1.5 + $0.2*$1.8]"
    // page group: Sheet1
    // expression: value = [a.0*b.0 + a.1*b.3 + a.2*b.6,  a.0*b.1 + a.1*b.4 + a.2*b.7,  a.0*b.2 + a.1*b.5 + a.2*b.8]
    // name[2]: value = a
    // name[3]: value = b
    //
RotTensor_Compute_4_out_1 = 
    Compute(
    "[$0.0*$1.0 + $0.1*$1.3 + $0.2*$1.6,  $0.0*$1.1 + $0.1*$1.4 + $0.2*$1.7,  $0.0*$1.2 + $0.1*$1.5 + $0.2*$1.8]",
    RotTensor_Compute_2_out_1,
    RotTensor_Compute_2_out_1
    ) [instance: 4, cache: 1];
    // 
    // node Compute[5]: x = 412, y = 173, inputs = 3, label = Compute
    // input[1]: defaulting = 0, visible = 0, type = 32, value = "[$0.3*$1.0 + $0.4*$1.3 + $0.5*$1.6,  $0.3*$1.1 + $0.4*$1.4 + $0.5*$1.7,  $0.3*$1.2 + $0.4*$1.5 + $0.5*$1.8]"
    // page group: Sheet1
    // expression: value = [a.3*b.0 + a.4*b.3 + a.5*b.6,  a.3*b.1 + a.4*b.4 + a.5*b.7,  a.3*b.2 + a.4*b.5 + a.5*b.8]
    // name[2]: value = a
    // name[3]: value = b
    //
RotTensor_Compute_5_out_1 = 
    Compute(
    "[$0.3*$1.0 + $0.4*$1.3 + $0.5*$1.6,  $0.3*$1.1 + $0.4*$1.4 + $0.5*$1.7,  $0.3*$1.2 + $0.4*$1.5 + $0.5*$1.8]",
    RotTensor_Compute_2_out_1,
    RotTensor_Compute_2_out_1
    ) [instance: 5, cache: 1];
    // 
    // node Compute[6]: x = 410, y = 263, inputs = 4, label = Compute
    // input[1]: defaulting = 0, visible = 0, type = 32, value = "[$0.0, $0.1, $0.2, $1.0, $1.1, $1.2, $2.0, $2.1, $2.2]"
    // page group: Sheet1
    // expression: value = [V0.0, V0.1, V0.2, V1.0, V1.1, V1.2, V2.0, V2.1, V2.2]
    // name[2]: value = V0
    // name[3]: value = V1
    // name[4]: value = V2
    //
RotTensor_Compute_6_out_1 = 
    Compute(
    "[$0.0, $0.1, $0.2, $1.0, $1.1, $1.2, $2.0, $2.1, $2.2]",
    RotTensor_Compute_4_out_1,
    RotTensor_Compute_5_out_1,
    RotTensor_Compute_3_out_1
    ) [instance: 6, cache: 1];
    // 
    // node Transmitter[1]: x = 87, y = 155, inputs = 1, label = mod_phi
    // page group: Sheet1
    //
mod_phi = RotTensor_Compute_1_out_1;
    // 
    // node Receiver[1]: x = 42, y = 390, inputs = 1, label = mod_phi
    // page group: Sheet1
    //
RotTensor_Receiver_1_out_1[cache: 0] = mod_phi;
    // 
    // node Compute[8]: x = 123, y = 462, inputs = 2, label = Compute
    // input[1]: defaulting = 0, visible = 0, type = 32, value = "$0^2"
    // page group: Sheet1
    // expression: value = a^2
    // name[2]: value = a
    //
RotTensor_Compute_8_out_1 = 
    Compute(
    "$0^2",
    RotTensor_Receiver_1_out_1
    ) [instance: 8, cache: 1];
    // 
    // node Compute[26]: x = 259, y = 460, inputs = 2, label = Compute
    // input[1]: defaulting = 0, visible = 0, type = 32, value = "$0<1.1?1:$0"
    // page group: Sheet1
    // expression: value = a<1.1?1:a
    // name[2]: value = a
    //
RotTensor_Compute_26_out_1 = 
    Compute(
    "$0<1.1?1:$0",
    RotTensor_Receiver_1_out_1
    ) [instance: 26, cache: 1];
    // 
    // node Compute[7]: x = 26, y = 540, inputs = 4, label = Compute
    // input[1]: defaulting = 0, visible = 0, type = 32, value = "$0<1.1?1.-$1/6.+$1^2/120.-$1^3/5040.+$1^4/362880.-$1^5/39916800.+$1^6/6227020800.-$1^7/1307674368000.+$1^8/355687428096000.:sin($0)/($2)"
    // page group: Sheet1
    // expression: value = a<1.1?1.-b/6.+b^2/120.-b^3/5040.+b^4/362880.-b^5/39916800.+b^6/6227020800.-b^7/1307674368000.+b^8/355687428096000.:sin(a)/(c)
    // name[2]: value = a
    // name[3]: value = b
    // name[4]: value = c
    //
RotTensor_Compute_7_out_1 = 
    Compute(
    "$0<1.1?1.-$1/6.+$1^2/120.-$1^3/5040.+$1^4/362880.-$1^5/39916800.+$1^6/6227020800.-$1^7/1307674368000.+$1^8/355687428096000.:sin($0)/($2)",
    RotTensor_Receiver_1_out_1,
    RotTensor_Compute_8_out_1,
    RotTensor_Compute_26_out_1
    ) [instance: 7, cache: 1];
    // 
    // node Compute[11]: x = 577, y = 86, inputs = 1, label = Compute
    // input[1]: defaulting = 0, visible = 0, type = 32, value = "[1, 0,0,0,1,0,0,0,1]"
    // page group: Sheet1
    // expression: value = [1, 0,0,0,1,0,0,0,1]
    //
RotTensor_Compute_11_out_1 = 
    Compute(
    "[1, 0,0,0,1,0,0,0,1]"
    ) [instance: 11, cache: 1];
    // 
    // node Transmitter[4]: x = 51, y = 641, inputs = 1, label = a
    // page group: Sheet1
    //
a = RotTensor_Compute_7_out_1;
    // 
    // node Receiver[3]: x = 461, y = 434, inputs = 1, label = a
    // page group: Sheet1
    //
RotTensor_Receiver_3_out_1[cache: 0] = a;
    // 
    // node Transmitter[2]: x = 209, y = 158, inputs = 1, label = phi_cross
    // page group: Sheet1
    //
phi_cross = RotTensor_Compute_2_out_1;
    // 
    // node Receiver[4]: x = 490, y = 435, inputs = 1, label = phi_cross
    // page group: Sheet1
    //
RotTensor_Receiver_4_out_1[cache: 0] = phi_cross;
    // 
    // node Compute[12]: x = 454, y = 523, inputs = 3, label = Compute
    // input[1]: defaulting = 0, visible = 0, type = 32, value = "$0*$1"
    // page group: Sheet1
    // expression: value = a*b
    // name[2]: value = a
    // name[3]: value = b
    //
RotTensor_Compute_12_out_1 = 
    Compute(
    "$0*$1",
    RotTensor_Receiver_3_out_1,
    RotTensor_Receiver_4_out_1
    ) [instance: 12, cache: 1];
    // 
    // node Compute[25]: x = 215, y = 548, inputs = 4, label = Compute
    // input[1]: defaulting = 0, visible = 0, type = 32, value = "$0<1.1?0.5-$1/24+$1^2/720.-$1^3/40320.+$1^4/3628800.-$1^5/479001600.+$1^6/87178291200.-$1^7/20922789888000.+$1^8/6402373705728000.:(1-cos($0))/($2^2)"
    // page group: Sheet1
    // expression: value = a<1.1?0.5-b/24+b^2/720.-b^3/40320.+b^4/3628800.-b^5/479001600.+b^6/87178291200.-b^7/20922789888000.+b^8/6402373705728000.:(1-cos(a))/(c^2)
    // name[2]: value = a
    // name[3]: value = b
    // name[4]: value = c
    //
RotTensor_Compute_25_out_1 = 
    Compute(
    "$0<1.1?0.5-$1/24+$1^2/720.-$1^3/40320.+$1^4/3628800.-$1^5/479001600.+$1^6/87178291200.-$1^7/20922789888000.+$1^8/6402373705728000.:(1-cos($0))/($2^2)",
    RotTensor_Receiver_1_out_1,
    RotTensor_Compute_8_out_1,
    RotTensor_Compute_26_out_1
    ) [instance: 25, cache: 1];
    // 
    // node Transmitter[5]: x = 237, y = 632, inputs = 1, label = b
    // page group: Sheet1
    //
b = RotTensor_Compute_25_out_1;
    // 
    // node Receiver[5]: x = 565, y = 434, inputs = 1, label = b
    // page group: Sheet1
    //
RotTensor_Receiver_5_out_1[cache: 0] = b;
    // 
    // node Transmitter[3]: x = 377, y = 343, inputs = 1, label = phi_cross_phi_cross
    // page group: Sheet1
    //
phi_cross_phi_cross = RotTensor_Compute_6_out_1;
    // 
    // node Receiver[6]: x = 595, y = 436, inputs = 1, label = phi_cross_phi_cross
    // page group: Sheet1
    //
RotTensor_Receiver_6_out_1[cache: 0] = phi_cross_phi_cross;
    // 
    // node Compute[13]: x = 559, y = 523, inputs = 3, label = Compute
    // input[1]: defaulting = 0, visible = 0, type = 32, value = "$0*$1"
    // page group: Sheet1
    // expression: value = a*b
    // name[2]: value = a
    // name[3]: value = b
    //
RotTensor_Compute_13_out_1 = 
    Compute(
    "$0*$1",
    RotTensor_Receiver_5_out_1,
    RotTensor_Receiver_6_out_1
    ) [instance: 13, cache: 1];
    // 
    // node Transmitter[6]: x = 575, y = 176, inputs = 1, label = IDENTITY
    // page group: Sheet1
    //
IDENTITY = RotTensor_Compute_11_out_1;
    // 
    // node Receiver[2]: x = 375, y = 433, inputs = 1, label = IDENTITY
    // page group: Sheet1
    //
RotTensor_Receiver_2_out_1[cache: 0] = IDENTITY;
    // 
    // node Compute[14]: x = 453, y = 633, inputs = 4, label = Compute
    // input[1]: defaulting = 0, visible = 0, type = 32, value = "$0+$1+$2"
    // page group: Sheet1
    // expression: value = a+b+c
    // name[2]: value = a
    // name[3]: value = b
    // name[4]: value = c
    //
RotTensor_Compute_14_out_1 = 
    Compute(
    "$0+$1+$2",
    RotTensor_Receiver_2_out_1,
    RotTensor_Compute_12_out_1,
    RotTensor_Compute_13_out_1
    ) [instance: 14, cache: 1];
    // 
    // node Output[1]: x = 462, y = 715, inputs = 1, label = Output
    // page group: Sheet1
    // parameter: position = 1, name = 'output_1', value = ' ', descriptive = 0, description = ' ', required = 0, visible = 1
    //
output_1 = RotTensor_Compute_14_out_1;
// network: end of macro body
}
RotTensor_Input_1_out_1 = NULL;
RotTensor_Compute_1_out_1 = NULL;
RotTensor_Compute_2_out_1 = NULL;
RotTensor_Compute_3_out_1 = NULL;
RotTensor_Compute_4_out_1 = NULL;
RotTensor_Compute_5_out_1 = NULL;
RotTensor_Compute_6_out_1 = NULL;
RotTensor_Transmitter_1_out_1 = NULL;
RotTensor_Receiver_1_out_1 = NULL;
RotTensor_Compute_8_out_1 = NULL;
RotTensor_Compute_26_out_1 = NULL;
RotTensor_Compute_7_out_1 = NULL;
RotTensor_Compute_11_out_1 = NULL;
RotTensor_Transmitter_4_out_1 = NULL;
RotTensor_Receiver_3_out_1 = NULL;
RotTensor_Transmitter_2_out_1 = NULL;
RotTensor_Receiver_4_out_1 = NULL;
RotTensor_Compute_12_out_1 = NULL;
RotTensor_Compute_25_out_1 = NULL;
RotTensor_Transmitter_5_out_1 = NULL;
RotTensor_Receiver_5_out_1 = NULL;
RotTensor_Transmitter_3_out_1 = NULL;
RotTensor_Receiver_6_out_1 = NULL;
RotTensor_Compute_13_out_1 = NULL;
RotTensor_Transmitter_6_out_1 = NULL;
RotTensor_Receiver_2_out_1 = NULL;
RotTensor_Compute_14_out_1 = NULL;
