//
// time: Tue Dec 21 11:26:28 2004
//
// version: 3.1.2 (format), 4.2.0 (DX)
//
//
//
// macro reference (direct): P3TimesM3 /home/marco/Mbdyn/mbdyn/contrib/OpenDX-post/P3TimesM3.net
include "P3TimesM3.net"
//
// Begin MDF
// MODULE ComputeBeamOffsets
// CATEGORY Mbdyn
// INPUT connessione; field; (none); connessione
// INPUT offset; field; (none); offset
// INPUT coseni; value list or field; (none); coseni
// OUTPUT offset_in_sistema_globale; field; offset
// End MDF
// workspace: width = 395, height = 625
// layout: snap = 0, width = 50, height = 50, align = NN
//
macro ComputeBeamOffsets(
 connessione
,offset
,coseni
) -> (
 offset_in_sistema_globale
) {
    // 
    // node Input[1]: x = 91, y = 11, inputs = 0, label = Connessione
    // parameter: position = 1, name = 'connessione', value = '(none)', descriptive = 1, description = 'connessione', required = 1, visible = 1
    //
ComputeBeamOffsets_Input_1_out_1 = connessione;
    // 
    // node Extract[2]: x = 109, y = 90, inputs = 2, label = Extract
    //
ComputeBeamOffsets_Extract_2_out_1[cache: 0] = 
    Extract(
    ComputeBeamOffsets_Input_1_out_1,
    NULL
    ) [instance: 2, cache: 1];
    // 
    // node Options[2]: x = 83, y = 161, inputs = 5, label = Options
    // input[2]: defaulting = 0, visible = 1, type = 32, value = "dep"
    // input[3]: defaulting = 0, visible = 1, type = 29, value = NULL
    //
ComputeBeamOffsets_Options_2_out_1 = 
    Options(
    ComputeBeamOffsets_Extract_2_out_1,
    "dep",
    NULL,
    NULL,
    NULL
    ) [instance: 2, cache: 1];
    // 
    // node Input[2]: x = 246, y = 22, inputs = 0, label = Offset
    // parameter: position = 2, name = 'offset', value = '(none)', descriptive = 1, description = 'offset', required = 1, visible = 1
    //
ComputeBeamOffsets_Input_2_out_1 = offset;
    // 
    // node Replace[1]: x = 126, y = 248, inputs = 4, label = Replace
    // input[4]: defaulting = 0, visible = 1, type = 32, value = "invalid positions"
    //
ComputeBeamOffsets_Replace_1_out_1 = 
    Replace(
    ComputeBeamOffsets_Options_2_out_1,
    ComputeBeamOffsets_Input_2_out_1,
    NULL,
    "invalid positions"
    ) [instance: 1, cache: 1];
    // 
    // node Input[3]: x = 345, y = 27, inputs = 0, label = Coseni
    // parameter: position = 3, name = 'coseni', value = '(none)', descriptive = 1, description = 'coseni', required = 1, visible = 1
    //
ComputeBeamOffsets_Input_3_out_1 = coseni;
    // 
    // node P3TimesM3[4]: x = 166, y = 339, inputs = 2, label = P3TimesM3
    //
ComputeBeamOffsets_P3TimesM3_4_out_1 = 
    P3TimesM3(
    ComputeBeamOffsets_Replace_1_out_1,
    ComputeBeamOffsets_Input_3_out_1
    ) [instance: 4, cache: 1];
    // 
    // node Compute[11]: x = 216, y = 421, inputs = 3, label = Compute
    // input[1]: defaulting = 0, visible = 0, type = 32, value = "invalid($0)?[0.,0.,0.]:$0"
    // expression: value = invalid(a)?[0.,0.,0.]:a
    // name[2]: value = a
    // name[3]: value = b
    //
ComputeBeamOffsets_Compute_11_out_1[cache: 0] = 
    Compute(
    "invalid($0)?[0.,0.,0.]:$0",
    ComputeBeamOffsets_P3TimesM3_4_out_1,
    NULL
    ) [instance: 11, cache: 1];
    // 
    // node Remove[2]: x = 222, y = 491, inputs = 2, label = Remove
    // input[2]: defaulting = 0, visible = 1, type = 32, value = "invalid positions"
    //
ComputeBeamOffsets_Remove_2_out_1 = 
    Remove(
    ComputeBeamOffsets_Compute_11_out_1,
    "invalid positions"
    ) [instance: 2, cache: 1];
    // 
    // node Output[1]: x = 340, y = 563, inputs = 1, label = Offset
    // parameter: position = 1, name = 'offset_in_sistema_globale', value = '(NULL)', descriptive = 1, description = 'offset', required = 0, visible = 1
    //
offset_in_sistema_globale = ComputeBeamOffsets_Remove_2_out_1;
// network: end of macro body
}
ComputeBeamOffsets_Input_1_out_1 = NULL;
ComputeBeamOffsets_Extract_2_out_1 = NULL;
ComputeBeamOffsets_Options_2_out_1 = NULL;
ComputeBeamOffsets_Input_2_out_1 = NULL;
ComputeBeamOffsets_Replace_1_out_1 = NULL;
ComputeBeamOffsets_Input_3_out_1 = NULL;
ComputeBeamOffsets_P3TimesM3_4_out_1 = NULL;
ComputeBeamOffsets_Compute_11_out_1 = NULL;
ComputeBeamOffsets_Remove_2_out_1 = NULL;
