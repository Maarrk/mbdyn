{
  "$defs": {
    "MBVar": {
      "additionalProperties": false,
      "description": "Every time a numeric value is expected, the result of evaluating\na mathematical expression can be used, including variable declaration\nand assignment (variable names and values are kept in memory throughout\nthe input phase and the simulation) and simple math functions.\nLimited math on strings is also supported.\nNamed variables and non-named constants are strongly typed.",
      "properties": {
        "name": {
          "description": "Name of the variable",
          "title": "Name",
          "type": "string"
        },
        "var_type": {
          "allOf": [
            {
              "$ref": "#/$defs/MBVarType"
            }
          ],
          "description": "Type as defined in MBDyn"
        },
        "expression": {
          "description": "For now just a string, TODO: finish implementing expressions and MBVar",
          "title": "Expression",
          "type": "string"
        }
      },
      "required": [
        "name",
        "var_type",
        "expression"
      ],
      "title": "MBVar",
      "type": "object"
    },
    "MBVarType": {
      "description": "Built-in types in math parser",
      "enum": [
        "bool",
        "integer",
        "real",
        "string"
      ],
      "title": "MBVarType",
      "type": "string"
    }
  },
  "additionalProperties": false,
  "description": "An example of `DriveCaller` that always returns the same constant value",
  "properties": {
    "idx": {
      "anyOf": [
        {
          "$ref": "#/$defs/MBVar"
        },
        {
          "type": "integer"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "description": "Index of this drive to reuse with references",
      "title": "Idx"
    },
    "const_value": {
      "anyOf": [
        {
          "$ref": "#/$defs/MBVar"
        },
        {
          "type": "number"
        },
        {
          "type": "integer"
        }
      ],
      "description": "Value that will be output by the drive",
      "title": "Const Value"
    }
  },
  "required": [
    "const_value"
  ],
  "title": "ConstDriveCaller",
  "type": "object"
}